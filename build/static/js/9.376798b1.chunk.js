(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{936:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return re}));var r=n(18),c=n(939),a=n(0),i=n(47),o=n(751),l=n(920),s=n(718),d=n(946),b=n(947),j=n(948),u=n(943),h=n(944),O=n(729),p=n(937),x=n(255),f=n(28),g=n(6),m=n(7),v=n(664),y=n(1),k=["color","variant","children"],w=Object(m.a)("span")((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode,c=n.color,a=n.variant;return Object(g.a)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold},"default"!==c?Object(g.a)(Object(g.a)(Object(g.a)({},"filled"===a&&Object(g.a)({},function(e){return{color:t.palette[e].contrastText,backgroundColor:t.palette[e].main}}(c))),"outlined"===a&&Object(g.a)({},function(e){return{color:t.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(t.palette[e].main)}}(c))),"ghost"===a&&Object(g.a)({},function(e){return{color:t.palette[e][r?"dark":"light"],backgroundColor:Object(v.a)(t.palette[e].main,.16)}}(c))):Object(g.a)(Object(g.a)({},"outlined"===a&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat(t.palette.grey[50032])}),"ghost"===a&&{color:r?t.palette.text.secondary:t.palette.common.white,backgroundColor:t.palette.grey[50016]}))}));function S(e){var t=e.color,n=void 0===t?"default":t,r=e.variant,c=void 0===r?"ghost":r,a=e.children,i=Object(f.a)(e,k);return Object(y.jsx)(w,Object(g.a)(Object(g.a)({ownerState:{color:n,variant:c}},i),{},{children:a}))}var C=n(77),P=n(918),N=n(94),I=["children","sx"],D=Object(m.a)("div")((function(){return{flexGrow:1,height:"100%",overflow:"hidden"}})),B=Object(m.a)(P.a)((function(e){var t=e.theme;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:Object(v.a)(t.palette.grey[600],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}}));function M(e){var t=e.children,n=e.sx,r=Object(f.a)(e,I),c="undefined"===typeof navigator?"SSR":navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)?Object(y.jsx)(N.a,Object(g.a)(Object(g.a)({sx:Object(g.a)({overflowX:"auto"},n)},r),{},{children:t})):Object(y.jsx)(D,{children:Object(y.jsx)(B,Object(g.a)(Object(g.a)({timeout:500,clickOnTrack:!1,sx:n},r),{},{children:t}))})}var R=n(743),z=n(742),F=["searchQuery"];function T(e){var t=e.searchQuery,n=void 0===t?"":t,r=Object(f.a)(e,F);return n?Object(y.jsxs)(R.a,Object(g.a)(Object(g.a)({},r),{},{children:[Object(y.jsx)(z.a,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found"}),Object(y.jsxs)(z.a,{variant:"body2",align:"center",children:["No results found for \xa0",Object(y.jsxs)("strong",{children:['"',n,'"']}),". Try checking for typos or using complete words."]})]})):Object(y.jsx)(z.a,{variant:"body2",children:" Please enter keywords"})}var A=n(942),W=n(940),E={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function H(e){var t=e.order,n=e.orderBy,r=e.rowCount,c=e.headLabel,a=e.numSelected,i=e.onRequestSort,o=e.onSelectAllClick;return Object(y.jsx)(A.a,{children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(h.a,{padding:"checkbox",sx:{bgcolor:"primary.light"},children:Object(y.jsx)(O.a,{indeterminate:a>0&&a<r,checked:r>0&&a===r,onClick:o})}),c.map((function(e){return Object(y.jsx)(h.a,{sx:{py:1.5,bgcolor:"primary.light"},align:e.alignRight?"right":"left",sortDirection:n===e.id&&t,children:Object(y.jsxs)(W.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:(r=e.id,function(e){i(r)}),children:[e.label,n===e.id?Object(y.jsx)(N.a,{sx:Object(g.a)({},E),children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))]})})}var _=n(749),L=n(945),Q=n(933),q=n(748),J=n(3),G=n(723),X=Object(m.a)(G.a,{shouldForwardProp:function(e){return"stretchStart"!==e}})((function(e){var t=e.stretchStart,n=e.theme;return{"& .MuiOutlinedInput-root":Object(g.a)({transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter})},t&&{width:t,"&.Mui-focused":Object(J.a)({},n.breakpoints.up("sm"),{width:t+60})}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(n.palette.grey[50032]," !important")}}})),K=Object(m.a)(_.a)((function(e){return{height:70,display:"flex",justifyContent:"space-between",padding:e.theme.spacing(0,1,0,3)}}));function U(e){var t=e.numSelected,n=e.filterName,r=e.onFilterName,c=e.onDeleteDevice;Object(i.a)();return Object(y.jsxs)(K,{sx:Object(g.a)({},t>0&&{color:"text.primary",bgcolor:"primary.dark"}),children:[t>0?Object(y.jsxs)(z.a,{component:"div",variant:"subtitle1",children:[t," selected"]}):Object(y.jsx)(X,{size:"small",stretchStart:240,value:n,onChange:function(e){return r(e.target.value)},placeholder:"Search user...",InputProps:{startAdornment:Object(y.jsx)(L.a,{position:"start",children:Object(y.jsx)(C.a,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}}),t>0&&Object(y.jsx)(Q.a,{title:"Delete",children:Object(y.jsx)(q.a,{onClick:c,children:Object(y.jsx)(C.a,{icon:"eva:trash-2-outline"})})})]})}var V=n(26),Y=n(41),Z=n(730),$=n(346);function ee(e){var t=e.onDelete,n=e.deviceId,c=Object(a.useState)(null),i=Object(r.a)(c,2),o=i[0],l=i[1],s=(Object(V.f)(),{mr:2,width:20,height:20});return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(q.a,{onClick:function(e){l(e.currentTarget)},children:Object(y.jsx)(C.a,{icon:"eva:more-vertical-fill",width:20,height:20})}),Object(y.jsxs)($.a,{open:Boolean(o),anchorEl:o,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:170,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}},children:[Object(y.jsxs)(Z.a,{onClick:t,sx:{color:"error.main"},children:[Object(y.jsx)(C.a,{icon:"eva:trash-2-outline",sx:Object(g.a)({},s)}),"Delete"]}),Object(y.jsxs)(Z.a,{component:Y.b,to:"/admin/device/".concat(n),children:[Object(y.jsx)(C.a,{icon:"eva:edit-fill",sx:Object(g.a)({},s)}),"Edit"]})]})]})}var te=n(84),ne=[{id:"deviceNumber",label:"Device Number"},{id:"phoneNumber",label:"Phone Number"},{id:"type",label:"Type"},{id:"status",label:"Status"},{id:""}];function re(){Object(i.a)();var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],f=t[1],g=Object(a.useState)(0),m=Object(r.a)(g,2),v=m[0],k=m[1],w=Object(a.useState)("asc"),C=Object(r.a)(w,2),P=C[0],N=C[1],I=Object(a.useState)([]),D=Object(r.a)(I,2),B=D[0],R=D[1],z=Object(a.useState)("name"),F=Object(r.a)(z,2),A=F[0],W=F[1],E=Object(a.useState)(""),_=Object(r.a)(E,2),L=_[0],Q=_[1],q=Object(a.useState)(10),J=Object(r.a)(q,2),G=J[0],X=J[1];Object(a.useEffect)((function(){te.a.post("/api/device/list/all").then((function(e){f(e.data.list)})).catch((function(e){}))}),[]);var K=v>0?Math.max(0,(1+v)*G-n.length):0,V=function(e,t,n){var r=e.map((function(e,t){return[e,t]}));if(r.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n)return e.filter((function(e){return-1!==e.deviceNumber.indexOf(n.toLowerCase())}));return r.map((function(e){return e[0]}))}(n,function(e,t){return"desc"===e?function(e,n){return ce(e,n,t)}:function(e,n){return-ce(e,n,t)}}(P,A),L),Y=!V.length&&Boolean(L);return Object(y.jsx)(x.a,{title:"Device Manage",children:Object(y.jsx)(o.a,{sx:{py:{xs:12}},children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(U,{numSelected:B.length,filterName:L,onFilterName:function(e){Q(e),k(0)},onDeleteDevice:function(){return function(e){var t=n.filter((function(t){return!e.includes(t._id)}));R([]),f(t)}(B)}}),Object(y.jsx)(s.a,{}),Object(y.jsx)(M,{children:Object(y.jsx)(d.a,{sx:{minWidth:650,maxHeight:"70vh"},children:Object(y.jsxs)(b.a,{size:"small",stickyHeader:!0,children:[Object(y.jsx)(H,{order:P,orderBy:A,headLabel:ne,rowCount:n.length,numSelected:B.length,onRequestSort:function(e){N(A===e&&"asc"===P?"desc":"asc"),W(e)},onSelectAllClick:function(e){if(e.target.checked){var t=n.map((function(e){return e._id}));R(t)}else R([])}}),Object(y.jsxs)(j.a,{children:[V.slice(v*G,v*G+G).map((function(e){var t=e._id,r=e.deviceNumber,a=e.phoneNumber,i=e.status,o=e.type,l=-1!==B.indexOf(t);return Object(y.jsxs)(u.a,{hover:!0,tabIndex:-1,role:"checkbox",selected:l,"aria-checked":l,children:[Object(y.jsx)(h.a,{padding:"checkbox",children:Object(y.jsx)(O.a,{checked:l,onClick:function(){return function(e){var t=B.indexOf(e),n=[];-1===t?n=n.concat(B,e):0===t?n=n.concat(B.slice(1)):t===B.length-1?n=n.concat(B.slice(0,-1)):t>0&&(n=n.concat(B.slice(0,t),B.slice(t+1))),R(n)}(t)}})}),Object(y.jsx)(h.a,{align:"left",children:r}),Object(y.jsx)(h.a,{align:"left",children:a}),Object(y.jsx)(h.a,{align:"left",children:o}),Object(y.jsx)(h.a,{align:"left",children:Object(y.jsx)(S,{color:"active"===i?"success":"error",children:Object(c.a)(i)})}),Object(y.jsx)(h.a,{align:"right",children:Object(y.jsx)(ee,{deviceId:t,onDelete:function(){return function(e){var t=n.filter((function(t){return t._id!==e}));R([]),f(t)}(t)}})})]},t)})),K>0&&Object(y.jsx)(u.a,{style:{height:53*K},children:Object(y.jsx)(h.a,{colSpan:6})})]}),Y&&Object(y.jsx)(j.a,{children:Object(y.jsx)(u.a,{children:Object(y.jsx)(h.a,{align:"center",colSpan:6,sx:{py:3},children:Object(y.jsx)(T,{searchQuery:L})})})})]})})}),Object(y.jsx)(p.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:V.length,rowsPerPage:G,page:v,onPageChange:function(e,t){return k(t)},onRowsPerPageChange:function(e){X(parseInt(e.target.value,10)),k(0)}})]})})})}function ce(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}}}]);
//# sourceMappingURL=9.376798b1.chunk.js.map